clickhouse-client --host 10.26.49.20 --port 9000 --user etl --password SmceVqeCuUCQ4el2 -d swan_85535ed0c66311e5a2f8bf5011933e87 --query "select '' union all SELECT concat('add&^*=',name,'&^*=',replace(arrayElement(splitByString('.kb_permission_applications (',arrayElement(splitByString(') ENGINE = ',create_table_query),1)),2),', \`_sign\` Int8, \`_version\` UInt64, \`_dversion\` UInt64','')) FROM system.tables WHERE database='swan_85535ed0c66311e5a2f8bf5011933e87' AND name='kb_permission_applications' UNION ALL SELECT concat('add&^*=',name,'&^*=',replace(arrayElement(splitByString('.kb_permission_approvals (',arrayElement(splitByString(') ENGINE = ',create_table_query),1)),2),', \`_sign\` Int8, \`_version\` UInt64, \`_dversion\` UInt64','')) FROM system.tables WHERE database='swan_85535ed0c66311e5a2f8bf5011933e87' AND name='kb_permission_approvals' UNION ALL SELECT concat('add&^*=',name,'&^*=',replace(arrayElement(splitByString('.ud_field_values (',arrayElement(splitByString(') ENGINE = ',create_table_query),1)),2),', \`_sign\` Int8, \`_version\` UInt64, \`_dversion\` UInt64','')) FROM system.tables WHERE database='swan_85535ed0c66311e5a2f8bf5011933e87' AND name='ud_field_values' UNION ALL SELECT concat('update&^*=',table,'&^*=',name,'&^*=',concat(type,' ',default_kind,' ',default_expression)) FROM system.columns WHERE database='swan_85535ed0c66311e5a2f8bf5011933e87' and ((table = 'kb_entries' AND name in('status', '新建索引(parent_id', 'status)')) or(table = 'kb_files' AND name in('status', '新建索引(entry_id', 'status)')) or(table = 'kb_file_revisions' AND name in('created_from')) or(table = 'learning_roadmaps' AND name in('enable_board_remind', 'board_remind_start_time', 'board_remind_end_time', 'board_remind_times')));"